<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Analytics Dashboard Login</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="#" />
</head>
<body>
  <div class="top-banner">
    <div class="fancy-title">Analytics Dashboard</div>
    <p>Real-time analytics and insights</p>
  </div>
  <div class="login-container">
    <form method="POST" action="/login">
      <h3 class="login-heading">Login to Continue</h3>
      
      <div class="mb-3">
        <label for="loginId" class="form-label">ğŸ“§ Login ID</label>
        <input type="text" class="form-control" id="loginId" name="loginId" placeholder="Enter your username or email" required />
      </div>
      
      <div class="mb-3">
        <label for="password" class="form-label">ğŸ”’ Password</label>
        <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password" required />
      </div>
      
      <div class="mb-4">
        <label for="role" class="form-label">ğŸ‘¤ Role</label>
        <select class="form-select" id="role" name="role" required>
          <option value="">Choose your role</option>
          <option value="Admin">ğŸ”§ Admin</option>
          <option value="Analyst">ğŸ“Š Analyst</option>
          <option value="Departmental">ğŸ¢ Departmental</option>
          <option value="Viewer">ğŸ‘ï¸ Viewer</option>
        </select>
      </div>
      
      <div class="mb-4 department-selection" id="departmentDiv" style="display: none;">
        <label for="department" class="form-label">ğŸ¢ Department</label>
        <select class="form-select" id="department" name="department">
          <option value="">Select your department</option>
          <option value="Sales">ğŸ’° Sales</option>
          <option value="Marketing">ğŸ“¢ Marketing</option>
          <option value="Finance">ğŸ’¼ Finance</option>
          <option value="Human Resources">ğŸ‘¥ Human Resources</option>
          <option value="IT">ğŸ’» Information Technology</option>
          <option value="Operations">âš™ï¸ Operations</option>
        </select>
      </div>
      
      <button type="submit" class="btn-primary mb-2">Login</button>
      
      <div class="text-center mb-3">
        <p class="login-link">Don't have an account? <a href="register.html" class="auth-link">Register here</a></p>
      </div>
      
      <div class="dashboard-actions">
        <button type="button" class="action-btn" onclick="window.location.href='analytics_demo.html'">ğŸ“Š Analytics Demo</button>
        <button type="button" class="action-btn" onclick="window.location.href='user_guide.html'">ğŸ“– User Guide</button>
        <button type="button" class="action-btn" onclick="window.location.href='contact_support.html'">ğŸ’¬ Contact Support</button>
      </div>
    </form>
  </div>

  <script>
    // Show/hide department selection based on role
    document.getElementById('role').addEventListener('change', function() {
      const departmentDiv = document.getElementById('departmentDiv');
      const departmentSelect = document.getElementById('department');
      
      if (this.value === 'Departmental') {
        departmentDiv.style.display = 'block';
        departmentSelect.required = true;
        // Add smooth slide-in animation
        setTimeout(() => {
          departmentDiv.classList.add('show');
        }, 10);
      } else {
        departmentDiv.classList.remove('show');
        departmentSelect.required = false;
        departmentSelect.value = '';
        // Hide after animation completes
        setTimeout(() => {
          if (!departmentDiv.classList.contains('show')) {
            departmentDiv.style.display = 'none';
          }
        }, 300);
      }
    });

    // Form validation to ensure department is selected for departmental users
    document.querySelector('form').addEventListener('submit', function(e) {
      const role = document.getElementById('role').value;
      const department = document.getElementById('department').value;
      
      if (role === 'Departmental' && !department) {
        e.preventDefault();
        alert('Please select your department.');
        document.getElementById('department').focus();
      }
    });
  </script>
</body>
</html>
